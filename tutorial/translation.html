<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon.ico" type="image/svg+xml"><script>!function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><script type="module" async="" crossorigin="" src="/assets/app.c0115a6b.js"></script><style>h1[data-v-3b700256]{margin:0!important}a[data-v-3b700256]{text-decoration:none!important;font-size:24px}a[data-v-3b700256]:not(:first-child){margin-left:10px}a[data-v-3b700256]:not(:last-child){margin-right:10px}*,:after,:before{box-sizing:border-box;border-width:0;border-style:solid;border-color:currentColor}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}body{margin:0;line-height:inherit}h1,h2,h3{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b{font-weight:bolder}code,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}button{font-family:inherit;font-size:100%;line-height:inherit;color:inherit;margin:0;padding:0}button{text-transform:none}button{-webkit-appearance:button;background-color:transparent;background-image:none}h1,h2,h3,p,pre{margin:0}ol{list-style:none;margin:0;padding:0}button{cursor:pointer}img{display:block;vertical-align:middle}img{max-width:100%;height:auto}:root{--prism-scheme:light;--prism-foreground:#6e6e6e;--prism-background:#f4f4f4;--prism-comment:#a8a8a8;--prism-string:#555555;--prism-literal:#333333;--prism-keyword:#000000;--prism-function:#4f4f4f;--prism-deleted:#333333;--prism-class:#333333;--prism-builtin:#757575;--prism-property:#333333;--prism-namespace:#4f4f4f;--prism-punctuation:#ababab;--prism-decorator:var(--prism-class);--prism-operator:var(--prism-punctuation);--prism-number:var(--prism-literal);--prism-boolean:var(--prism-literal);--prism-variable:var(--prism-literal);--prism-constant:var(--prism-literal);--prism-symbol:var(--prism-literal);--prism-interpolation:var(--prism-literal);--prism-selector:var(--prism-keyword);--prism-keyword-control:var(--prism-keyword);--prism-regex:var(--prism-string);--prism-json-property:var(--prism-property);--prism-inline-background:var(--prism-background);--prism-comment-style:italic;--prism-url-decoration:underline;--prism-line-number:#a5a5a5;--prism-line-number-gutter:#333333;--prism-line-highlight-background:#eeeeee;--prism-selection-background:#aaaaaa;--prism-marker-color:var(--prism-foreground);--prism-marker-opacity:.4;--prism-marker-font-size:.8em;--prism-font-size:1em;--prism-line-height:1.5em;--prism-font-family:monospace;--prism-inline-font-size:var(--prism-font-size);--prism-block-font-size:var(--prism-font-size);--prism-tab-size:2;--prism-block-padding-x:1em;--prism-block-padding-y:1em;--prism-block-margin-x:0;--prism-block-margin-y:.5em;--prism-block-radius:.3em;--prism-inline-padding-x:.3em;--prism-inline-padding-y:.1em;--prism-inline-radius:.3em}code[class*=language-],pre[class*=language-]{font-size:var(--prism-font-size);font-family:var(--prism-font-family);direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:var(--prism-line-height);-moz-tab-size:var(--prism-tab-size);-o-tab-size:var(--prism-tab-size);tab-size:var(--prism-tab-size);-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;color:var(--prism-foreground)!important}pre[class*=language-]{font-size:var(--prism-block-font-size);padding:var(--prism-block-padding-y) var(--prism-block-padding-x);margin:var(--prism-block-margin-y) var(--prism-block-margin-x);border-radius:var(--prism-block-radius);overflow:auto;background:var(--prism-background)}code[class*=language-] ::-moz-selection,code[class*=language-] ::selection,code[class*=language-]::-moz-selection,code[class*=language-]::selection,pre[class*=language-] ::-moz-selection,pre[class*=language-] ::selection,pre[class*=language-]::-moz-selection,pre[class*=language-]::selection{background:var(--prism-selection-background)}.token.comment{color:var(--prism-comment);font-style:var(--prism-comment-style)}.token.string{color:var(--prism-string)}.token.punctuation{color:var(--prism-punctuation)}.token.operator{color:var(--prism-operator)}.token.number{color:var(--prism-number)}.token.keyword{color:var(--prism-keyword)}.token.function{color:var(--prism-function)}.prose{--prism-font-family:"DM Mono",monospace}[class^=language-]{background-color:#222!important}.prose img{width:100%}html .prose{--prism-foreground:#d4cfbf;--prism-background:#151515;--prism-comment:#758575;--prism-string:#d48372;--prism-literal:#429988;--prism-keyword:#4d9375;--prism-boolean:#1c6b48;--prism-number:#6394bf;--prism-variable:#c2b36e;--prism-function:#a1b567;--prism-deleted:#a14f55;--prism-class:#54b1bf;--prism-builtin:#e0a569;--prism-property:#dd8e6e;--prism-namespace:#db889a;--prism-punctuation:#858585;--prism-decorator:#bd8f8f;--prism-regex:#ab5e3f;--prism-json-property:#6b8b9e;--prism-line-number:#888888;--prism-line-number-gutter:#eeeeee;--prism-line-highlight-background:#444444;--prism-selection-background:#444444}#app,body,html{height:100%;margin:0;padding:0}[i~=carbon-sun]{--un-icon:url("data:image/svg+xml;utf8,%3Csvg preserveAspectRatio='xMidYMid meet' viewBox='0 0 32 32' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6ZM5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z'/%3E%3C/svg%3E");mask:var(--un-icon) no-repeat;mask-size:100% 100%;-webkit-mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;background-color:currentColor;width:1.2em;height:1.2em}.icon-btn{display:inline-block;cursor:pointer;user-select:none;opacity:.75;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:150ms;transition-duration:.2s}.icon-btn:hover{--un-text-opacity:1;color:rgba(13,148,136,var(--un-text-opacity));opacity:1}.prose :where(h1,h2,h3,h4,h5,h6):not(.not-prose){color:var(--un-prose-headings);font-weight:600;line-height:1.25}.prose :where(a):not(.not-prose){color:var(--un-prose-links);text-decoration:underline;font-weight:500}.prose :where(p,ul,ol,pre):not(.not-prose){margin:1em 0;line-height:1.75}.prose :where(h1):not(.not-prose){margin:1rem 0;font-size:2.25em}.prose :where(h2):not(.not-prose){margin:1.75em 0 .5em;font-size:1.75em}.prose :where(h3):not(.not-prose){margin:1.5em 0 .5em;font-size:1.375em}.prose :where(img,video):not(.not-prose){max-width:100%}.prose :where(code):not(.not-prose){color:var(--un-prose-code);font-size:.875em;font-weight:600;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation-Mono,Courier-New,monospace}.prose :where(:not(pre)>code):not(.not-prose)::after,.prose :where(:not(pre)>code):not(.not-prose)::before{content:"`"}.prose :where(pre):not(.not-prose){padding:1.25rem 1.5rem;overflow-x:auto;border-radius:.375rem}.prose :where(pre,code):not(.not-prose){white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;hyphens:none;background:0 0}.prose :where(precode):not(.not-prose){font-weight:inherit}.prose :where(ol,ul):not(.not-prose){padding-left:1.25em}.prose :where(ol):not(.not-prose){list-style-type:decimal}.prose :where(ol>li):not(.not-prose)::marker{color:var(--un-prose-lists)}.prose{color:var(--un-prose-body);max-width:65ch}.m-auto{margin:auto}.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-auto{margin-left:auto;margin-right:auto}.mr-1{margin-right:.25rem}[mt-10=""]{margin-top:2.5rem}.flex,[flex=""]{display:flex}.flex-row{flex-direction:row}.flex-wrap{flex-wrap:wrap}[justify-center=""]{justify-content:center}.justify-between{justify-content:space-between}.rounded-lg{border-radius:.5rem}.bg-teal-500{--un-bg-opacity:1;background-color:rgba(20,184,166,var(--un-bg-opacity))}.p-1{padding:.25rem}.p-4{padding:1rem}[px-4=""]{padding-left:1rem;padding-right:1rem}[py-10=""]{padding-top:2.5rem;padding-bottom:2.5rem}[text-center=""]{text-align:center}.text-left{text-align:left}.font-sans{font-family:"DM Sans",ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}[text-gray-700=""]{--un-text-opacity:1;color:rgba(55,65,81,var(--un-text-opacity))}.shadow-md{--un-shadow-inset:var(--un-empty, );/*!*//*!*/--un-shadow:0 0 #0000}.shadow-md{--un-shadow:var(--un-shadow-inset) 0 4px 6px -1px var(--un-shadow-color, rgba(0,0,0,0.1)),var(--un-shadow-inset) 0 2px 4px -2px var(--un-shadow-color, rgba(0,0,0,0.1));box-shadow:var(--un-ring-offset-shadow,0 0 #0000),var(--un-ring-shadow,0 0 #0000),var(--un-shadow)}.\!outline-none{outline:2px solid transparent!important;outline-offset:2px!important}[content~="initial-scale\=1\.0"]{content:"initial-scale=1.0"}[content~="width\=device-width\2c "]{content:"width=device-width,"}.writing-mode-tb{writing-mode:vertical-lr}</style><link rel="preload" href="/assets/app.2ef6b334.css" as="style"><link rel="modulepreload" crossorigin="" href="/assets/translation.bf5e0a4b.js"><link rel="modulepreload" crossorigin="" href="/assets/Tip.efbfd69a.js"><link rel="preload" href="/assets/Tip.44645c25.css" as="style"><title>口袋人</title><meta name="description" content="口袋人的制作思路，记录及一些心得"><meta name="theme-color" content="#ffffff"><meta name="head:count" content="2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/dmmono/v10/aFTU7PB1QTsUX8KYhh0.ttf"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/dmsans/v11/rP2Hp2ywxg089UriOZQ.ttf"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/dmserifdisplay/v10/-nFnOHM81r4j6k0gjAW3mujVU2B2K_c.ttf"></head><body class="font-sans"><div id="app" data-server-rendered="true"><main px-4="" py-10="" text-center="" text-gray-700="" dark:text-gray-200=""><nav data-v-3b700256=""><div class="prose flex flex-wrap justify-between item-center mx-auto" data-v-3b700256=""><h1 data-v-3b700256="">口袋人</h1><div class="flex justify-between item-center" data-v-3b700256=""><!--[--><a href="/" class="" data-v-3b700256="">主页</a><a href="/concept" class="" data-v-3b700256="">概念</a><a href="/getting-started" class="" data-v-3b700256="">入门</a><a href="/tutorial" class="" data-v-3b700256="">教学</a><!--]--></div></div></nav><div class="prose prose-sm m-auto text-left"><h2>汉化</h2><p>在反编译改版里，标准的汉化流程是这几个步骤</p><ol><li>添加汉字的字模及码表</li><li>修改字体渲染函数，让其能读取中文字体</li><li>替换文本成中文。</li><li>PS修改图像文字。</li><li>编译</li></ol><p></p><div class="shadow-md p-4 flex flex-row rounded-lg dark:bg-gray-800"><div class="bg-teal-500 rounded-lg p-1 mr-1"></div><b class="p-1 writing-mode-tb">心得</b><p class="p-1"><!--[-->我个人喜欢用脚本提取文本，然后用JSON文件整理好多种语言，最后编译器用脚本切换文本。<!--]--></p></div><p></p><h3>原理</h3><p>你可以在<code>graphics\fonts</code>里找到字模，例如： <img src="data:image/png;base64,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" style="width:50%"></p><p>然后在根目录的<code>charmap.txt</code>得到拉丁和日文码表，具体如下：</p><pre class="language-txt"><code class="language-txt">' '         = 00                    空格字符
'À'         = 01                    拉丁字符
POKEBLOCK   = 55 56 57 58 59        特殊控制字符
'<div id="app"></div>#39;         = FF                    结束字符

EMOJI_BIGANGER = F9 FE              表情字符

'\l' = FA @ scroll up window text   下滑控制字符
'\p' = FB @ new paragraph           下一段控制字符
'\n' = FE @ new line                下一行控制支付

</code></pre><p>你也可以在<code>src\fonts.c</code>找到字体常数和宽度：</p><pre class="language-c"><code class="language-c"><span class="token function">ALIGNED</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">const</span> u16 gFontSmallNarrowLatinGlyphs<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">INCBIN_U16</span><span class="token punctuation">(</span><span class="token string">"graphics/fonts/small_narrow.latfont"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 预处理过的字模二进制文件</span>
<span class="token function">ALIGNED</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">const</span> u8 gFontSmallNarrowLatinGlyphWidths<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">6</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">2</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">6</span><span class="token punctuation">,</span>  <span class="token number">7</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">7</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">7</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>
    <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>
    <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>
    <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 字模对应的宽度</span>
</code></pre><p>在<code>gflib\text.c</code>有着文本渲染函数，比较复杂就不放在这里了。</p><p>最后在<code>src\strings.c</code>里找到文本：</p><pre class="language-c"><code class="language-c"><span class="token keyword">const</span> u8 gText_MainMenuNewGame<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">_</span><span class="token punctuation">(</span><span class="token string">"NEW GAME"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//第24行</span>
</code></pre><p>编译后对应这里的文字： <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAACgCAIAAAC9uXYyAAAFT0lEQVR4nO3cMWgbVwCH8ZfSQrUI0QxCREM0ZLjFYE/BdEmGDh09drU3j+5S6Fjokmz16LV48tihQ70E0SkGLTd0uA4xhxYjbrHBgXZ4cDxO0rt37862/Pf3I4Tz6enuhi+Pp4t1z9799p8BVHzpf/nkZOd+rgMItL//0fPqM88MbWv+/u3Po9Gk++sCGsrz7I+/fjHepmtm6N2dfXOT5lna8aUBUXZ39qcfTzwDvvC/P89JGRukNsiaGdq1u5dsj7bbXQ/Q2EV+MT0LnVhDg97dS/be7sVeEhBvkkyMOQtsumbJUWJuxgMKzy80aOBRIGhIIWhIIWhIaXDbzjo4ODg6OkyS7XL7/ftjd4DdUxljt8sjlCPLMe6ekFO4BwRKjYM2xri9WkdHh4HvtYG6x7F/u3vclyJOgacsJuiVGk2ZdrDbaMjbmZVRK2YNbefONL1oee4k2V7XaGXmBgJ1M0OXawN3KeKuLu7oFEBFZNDtF7j2g2C5Yl55Cs+PwEqRQS/PkZU9y5/qKtxX3Q+F4acAlsXfh245ZVbq9KyngXDxa2i3v+Xlh13prrtL7Y4MVDkF9WOlmq9gTUa7yWRkjDk8/GGSTIwx9uaG7cl/o8Md4/bnvitJttcd0H8Kgn5SsjQ7Pv7dGJNmeZZP47+CtcwtKe7m8fJiI3ww4MfvckAKQUNKaNAXedv/FwSihecXuoaenqXGnPFFLNy/jr8ku7gZDL5eGGOmZ+nU8FQDPJjFzcCY3D+mfskxGIwWN4OOLgmItLgZDAaj2mE1M3SWT+1Gzb8L4M7leZ6WQa7j+48Vw8MasXniH9YIPDrch4aUmjX0u1/H93MdQKAff/rkedW35LA1J6++6/e/6f66gIaK4ir950/jbbpmhn45fm0+z4ureceXBkR5OX7976e/PQNq1tBFQcrYILVBNvj10cnW8EX/RbvrARq7LC6zWejEGhr0ZGu49Wor9pKAeM+Hz42ZBTYdetuOuRkPKDw/7kNDCkFDCkFDCkFDSsxzOU5PT+3GmzffDofj8seVe+zO8/MPlT3usPJHu2FPUW4D4RoHbVOz2+fnH+x2ZY/9sXy1HODuWXkcu0HHiBb55KTl5tw967ZDXgXa2Kw1tF2czOe+X6cCPDYraKClbh54Xn7mK5fF0ZY/QQLhugna7bjlsphVNdrobMkxHI7tn/aHaj/N48lqPEO7S4Lw8spbzva99tbeuuMwSSNa46CHw3FlgbEua3f/8hj/cZikESdmDV2ZQddNqLX3mz3HYZJGHG7bQQpBQ0po0JfF5Z1eB+ARnl/oGjqbzY2Z8UUs3L+OvyR7fdvrfXVtjMlm88zwVAM8mOvbnjGFf0z9kqPX61/f9jq6JCDS9W2v1+vXDquZoa+KzG7U/LsA7lxRFPMyyHVqHqfLwxqxaeIf1gg8OtyHhhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChhSChpT/AZAuoeXpTY7yAAAAAElFTkSuQmCC" alt="newgame"></p><p></p><div class="shadow-md p-4 flex flex-row rounded-lg dark:bg-gray-800"><div class="bg-teal-500 rounded-lg p-1 mr-1"></div><b class="p-1 writing-mode-tb">心得</b><p class="p-1"><!--[-->在反编译代码里，你可以看见很多类似<code>_("TEXT")</code>的语法。这个语法里边的文字在编译之前，会被预先处理成对应的编码，写脚本的时候也可以看这个语法来处理。<!--]--></p></div><p></p><h3>改动</h3><p><a href="https://github.com/TaTaTaZJJ/pokeman/commit/4cfb656fb3600788a4f4f9d61a1c9b7876ce5c8a" target="_blank" rel="noopener">https://github.com/TaTaTaZJJ/pokeman/commit/4cfb656fb3600788a4f4f9d61a1c9b7876ce5c8a</a></p><p>改动内容比较多，简单来说是：</p><ol><li>添加汉字的字模及码表，添加预处理规则</li><li>修改字体渲染函数，让其能读取中文字体</li><li>替换文本成中文。</li></ol><h3>成品</h3><p><img src="data:image/png;base64,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" alt="newgamecn"></p></div><div flex="" justify-center="" mt-10=""><span>2022 © Ta之境界</span><button class="icon-btn mx-2 !outline-none" title="黑暗模式"><div i="carbon-sun dark:carbon-moon"></div></button></div></main></div><script>window.__INITIAL_STATE__='{"pinia":{}}'</script><link rel="stylesheet" href="/assets/Tip.44645c25.css"><link rel="stylesheet" href="/assets/app.2ef6b334.css"></body></html>
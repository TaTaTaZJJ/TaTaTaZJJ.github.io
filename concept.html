<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="https://tatatazjj.github.io/favicon.ico" type="image/svg+xml"><script>!function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><script type="module" async="" crossorigin="" src="https://tatatazjj.github.io/assets/app.a9b46c95.js"></script><link rel="stylesheet" href="https://tatatazjj.github.io/assets/app.73c9b936.css"><link rel="modulepreload" crossorigin="" href="https://tatatazjj.github.io/assets/concept.a3ba0456.js"><link rel="modulepreload" crossorigin="" href="https://tatatazjj.github.io/assets/Tip.1b87a479.js"><link rel="stylesheet" href="https://tatatazjj.github.io/assets/Tip.44645c25.css"><title>概念篇</title><meta name="description" content="口袋人的制作思路，记录及一些心得"><meta name="theme-color" content="#ffffff"><meta property="og:title" content="概念篇"><meta name="head:count" content="3"></head><body class="font-sans"><div id="app" data-server-rendered="true"><main class="px-4 py-10 text-center text-gray-700 dark:text-gray-200"><div class="prose prose-sm m-auto text-left"><h1>概念篇</h1><h2>二进制改版 Binary Hack</h2><p>这里的二进制文件，是你在掌机磁盘上的游戏数据，也是所谓的ROM(Read Only Memory)文件。 <img src="https://tatatazjj.github.io/assets/hex-editor.90039134.png" alt="Hex Editor"></p><p>市场上现有的二进制文件是Gf编写代码编译出来的成品，在现代电脑上普遍格式是.gba。掌机/模拟器通过解析这个二进制文件来和你呈现各种被设计好的互动。</p><img class="p-4 bg-white" src="https://tatatazjj.github.io/assets/gba.drawio.590fdf11.png"><h3>改版方法</h3><ol><li>最初是有些大佬通过粗略的反编译及猜测推理，得出一些数据组在二进制文件的位置，使用二进制编辑器对文件进行改动，来实现Mod，普遍用于修改图片，数值，脚本及地图，甚至通过重新指向的方式扩充数据上限。</li><li>后来有大佬开始编写ASM语言(Assembly Language)代码，通过callasm或者hook的方式来实现稍微复杂的改动或者新功能，这方面较多涉及战斗系统和功能扩展。</li><li>接着有人尝试编写C语言代码，并编译成二进制代码后，通过callasm或者hook的方式来实现复杂的改动或者新功能。</li></ol><img class="p-4 bg-white" src="https://tatatazjj.github.io/assets/gba-hack.drawio.9ebae6ad.png"><h3>优势</h3><ol><li>门槛很低，不需要太深入的编程知识就可以入门。</li><li>很多工具，研究记录和教程让你参考，甚至有一堆补丁和一键工具泛滥的现象。</li></ol><h3>劣势</h3><ol><li>传统的做法难以记录及备份，常常因为一些无法定位源头的bug回滚到原点。</li><li>空间规划差，在原先的数据地址遗留空位，或者空间不足需要重新指向。</li><li>数据结构限制，常常需要重写整个函数来解读扩展内容，也就是所谓的解限。</li><li>缺乏规划的hook导致不必要的资源浪费及冲突。</li><li>难以多人协作，就像大学组别作业需要一个人来合并，最后容易出现一堆冲突。</li><li>过度的复制贴贴导致改版者忽视某些功能的背后原理，最后不理解bug怎么出现。</li></ol><h3>常见的问题</h3><ol><li>存储数据溢出，最后checksum出现坏蛋，例如使用错误的变数编号。</li><li>内存溢出，出现不想要的结果，例如殿堂精灵编号512过后异常。</li><li>乱码或图形崩坏，导入的内容无法正常读取，例如色板错误的精灵。</li></ol><div class="shadow-md p-4 flex flex-row rounded-lg dark:bg-gray-800"><div class="bg-teal-500 rounded-lg p-1 mr-1"></div><b class="p-1 writing-mode-tb">心得</b><p class="p-1"><!--[--> 这些问题的主要原因还是缺乏改动的认知及忽视补丁的冲突。<!--]--></p></div><h2>反编译改版 Decompilation Hack</h2><p>上文说的Gf编写的代码，只要有这份代码就可以自行编译想要的内容，当然在现实这是不可能的。有些大佬通过更深入的整理把这个二进制文件的源码一步一步用c语言重新写出来，也就是反编译。这个过程花了很多年才到达今天的地步，也就是因为这个反编译代码才让我们更接近理想,也让我们更加了解游戏所有的结构设计。 <img class="p-4 bg-white" src="https://tatatazjj.github.io/assets/gba-decomp.drawio.ed0e2b99.png"></p><h3>优势</h3><ol><li>代码或资源更容易做版本管理。</li><li>方便多人协同。</li><li>编译成品不会有空位遗留问题。</li><li>原本数据及函数的可扩展性。</li><li>自动化</li></ol><h3>劣势(劝退)</h3><ol><li>编程门槛，需要基本的c语言理解。</li><li>特定的改动也需要知道一定程度的gba概念。</li><li>理解整个项目有一定程度的心智负担。</li></ol></div><nav text-xl="" mt-6=""><a href="/https://tatatazjj.github.io/" class="icon-btn mx-2" title="首页"><div i-carbon-home=""></div></a><button class="icon-btn mx-2 !outline-none" title="切换深色模式"><div i="carbon-sun dark:carbon-moon"></div></button></nav></main></div><script>window.__INITIAL_STATE__='{"pinia":{}}'</script></body></html>